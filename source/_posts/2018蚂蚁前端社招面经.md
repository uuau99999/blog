---
title: 2018蚂蚁前端社招面经
date: 2018-09-06 21:31:03
tags: [前端,蚂蚁金服,面经]
---
上周一位去蚂蚁的前同事发了蚂蚁的Alipay HK的前端岗位的内推给我，趁着最近进度不是很赶就投了简历。大概一个星期后的昨晚接到了电面。
一面的面试官还是很nice的，声音听上去挺年轻的。面试一开始面试官主要是结合你的项目问你所使用的技术，项目的背景，以及你在项目中的职责。不会问太多关于技术的细节。由于我之前主要是用RN做App的，但是他们的团队貌似是用Native+web混合开发，不存在使用RN或者是Weex这种技术。当然一开始他也问我为什么不用阿里的Weex。我说Weex文档写的不健全社区也不活跃，而且之前我们团队有用react做过web基于同样的技术栈所以选择了RN。并且国内Weex貌似除了阿里以外没什么公司会用。然后面试官尴尬的笑着说其实他们自己也不用的- -。

接下来他让我挑几个我觉得有亮点的项目跟他讲解一下。我就主要讲了之前用Cordova/Ionic做的一个Hybrid的App，后面由于性能原因升级到React Native。他问我们的性能是用什么量化指标去评估的，我也不知道怎么回答就说业务觉得界面开始有点卡而且在外包咨询公司的怂恿下决定升级到RN。。。然后他问那你们在项目中有做过哪些优化，性能，代码，重构都可以。我就把react里面的一些最佳实践说了一下，如对于复杂state的容器使用shouldComponentUpdate去做一层判断，当然我们一般很懒都直接用react-redux的connect方法用redux自带的shouldComponentUpdate去优化性能。除此以外也通过大量的pure component保证了底层的组件不会过多重复渲染。还有就是关于RN的列表，flatlist使用的VirtualizedList通过延迟渲染避免了列表长度大加载卡顿的情况。
后面我也跟他说了我用websocket做了一套运行在RN上面的实时推送功能。这时候面试官就大概问了一下我是怎么管理这个node服务的，比如怎么监控，负载怎么做的，单机并发多少。我就说公司有paas平台会对服务进行监控，多实例负载也是paas上做的。我同时用了cluster在一个实例上fork多个线程用Round-Robin算法来充分利用多核性能去做负载。压测单机并发可稳定在30k左右。接下来就是问的关于安全的问题。比如你们App怎么做授权的。怎么保证安全。我说我们通过token来和服务器交互，token是加密存储在keysotre/SE中的。对于敏感操作有短信的二次验证来保证安全。接着他又问那你们有没用过一些在客户端本地验证token的方法，我回答jwt算吗。他说也算。那jwt有什么优势和劣势呢。我说优势是可以做分布式的权限校验，而且token中带有用户基本信息不需要再向服务器发请求确定用户身份。jwt还可以用来做单点登录。jwt劣势在于它的验证机制是基于签名的。一旦token泄露后端也没有方法取消对这个token的授权。面试官说那有没方法呢。我说就只能在服务端存储关于token的记录。当验证token的时候除了校验签名还要去保证服务端这边是有对应的。但如果这个好像就没必要用jwt了- -。后面还问了关于csrf、xss的防范。

除了上面这些还问了我关于前端构建工具的选择和搭建，同时也问我更趋向做web前端还是Native。我说更趋向web，也想做Node。他说他们那里Node的应用还是很多的。然后问我有什么问题。我就问了一下他们那边的业务背景、技术栈和工程实践，大致了解了一下。
一面大概持续了40分钟。强度不是特别高。面试官也比较有耐心。

然后今天中午就收到下午两点二面的通知。心想我靠这么频繁的吗。都没时间准备。

二面基本就是被打击了。。。

跟一面不一样，二面的面试官听上去明显就更年长一下，应该是技术主管之类的。一开始也是问了我们是怎么做技术选型的。我扯了一堆理由后面试官就开始问一些深入的问题了，比如你用到了websocket，那websocket的报文格式有了解吗，用的是http还是tcp，跟http有什么关系，http的keep-alive跟websocket有什么不一样呢。。。然后又问你们node服务是部署在linux上的吧，那底层连接怎么管理的呢，了解e-poll吗，有了解过http2吗。这些我基本都答不上来，然后他说看来你还是在应用级别，没有考虑过它有一天崩了怎么处理呢。。。
接下来换了个方向，关于react的。如为什么react有virtual dom呢。dom diff算法是怎么样的呢。自己用算法描述react的dom diff算法。了解受控组件和非受控组件吗。这些我只能回答一些比较浅的。然后面试官也很耐心，答不上来就尴尬的笑了换下一个问题。
后面是js基础。关于闭包，以及原理，（如闭包为什么不会释放，内存gc算法，我只回答了引用计数，标记清除竟然忘了。。）知道严格模式吗，跟非严格模式有什么区别。如何在js实现继承对象属性（我说用\__proto\__指向目标的原型对象，他问有没正规的用法，我说好像有个Object.setPrototypeOf的方法。。。），如何实现迭代器，ES6新增的for of怎么用的，跟for in 的区别。js有哪些基本类型。number精度多少，settimeout为什么会有延迟误差，怎么实现跨域。这些基本都回答上来了。他说我js基础还行。但有些知识还是要去补习了解一下。
最后面试官还怕我哪些特长他忽略了没有问我，我说应该没有了哈哈- -。最后也是他对我进行了一些简单点评。他说我定位有点模糊。前端和node都不是特别专。而阿里倾向于招专才，或者是全才，但必须在某方面要特别突出的。
二面持续了大概一个小时。说的我口都干了。。也心疼面试官，感觉他后面应该很无奈了- -

感觉自己应该跪在二面了。其实自己也没有充分准备，只是想投着看看。这次面试给我的收获也是很大的。我也发现了平时很多没有去仔细研究的地方。搞技术不是只会用框架，应该花时间去了解他的原理。另外要对自己的发展有明确方向。你不可能所有方面都很突出，必须要在某方面建立自己的优势。

嗯。努力吧。明年的自己肯定又不一样了。